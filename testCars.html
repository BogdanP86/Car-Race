<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Cars</title>
	<style>
		canvas {
			border:1px solid #3D0404;
		}
		h2 {
			margin-left:23%;
		}

		img {
			width: 150px;
			height: 150px
		}
		
	</style>
	<script>
		var c;
		var ctx;
		var cars = [];
		var width = 100;
		var height = 100;
		var x = 0;
		var y = 0;
		var i;
		var temp;
		var cw = 1000;
		var ch = 1000;
		var z = 1;
		var position = [];
		var speed = Math.random() * 10;
		

		var imageArray = new Array();
            imageArray[0] = "car1.png";
            imageArray[1] = "car2.png";
            imageArray[2] = "car3.png";
            imageArray[3] = "car4.png";
            imageArray[4] = "car5.png";
            imageArray[5] = "car6.png";

		window.requestAnimFrame = (function(){
		  			return  window.requestAnimationFrame ||
			          window.webkitRequestAnimationFrame ||
			          window.mozRequestAnimationFrame    ||
			          function( callback ){
			          window.setTimeout(callback, 1000 / 60);
		          };
		})();

		function init() {
			c = document.getElementById("myCanvas");
			ctx = c.getContext("2d");
			
			pushCar();
			
		}

		function CreateCar(x,y,speed,image){
			this.x = x;
			this.y = y;
			
			this.speed = speed;
			this.image = image;
			
		}


		function pushCar(){

			for (var i=0; i<6; i++){
				var image = new Image();
				image.src = imageArray[i];
				var speed = Math.random() * 10;
				var car = new CreateCar(x,y,speed,image);
				cars.push(car);
				y += 110;
			}

			drawAll();
		}

		function clear (){
			ctx.clearRect (0,0,cw,ch);
		}

		function draw(cars){

			ctx.drawImage(temp.image,temp.x,temp.y);

			
		}

		function drawAll(){
			clear();
			
			for (var i=0; i<cars.length; i++){

				temp = cars[i];
				draw(temp);
				if (temp.x+150 < c.width){
				temp.x += temp.speed;
				}else{
					if (!position[i]){
						position[i]=z;
						z++;
					}
									
					ctx.font = "20pt Verdana";
					ctx.fillStyle = "#000";
					ctx.fillText("Position #"+position[i], 850, temp.y+85);

				}
			}

			requestAnimFrame(drawAll, c);
			
		}
		
		
	</script>

</head>
<body onLoad = "init()">
	
	<canvas id="myCanvas" width="1000" height="700"></canvas>

</body>
</html>